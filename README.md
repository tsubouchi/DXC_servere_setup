# DSL - AIワークフローアプリケーション

このリポジトリには、Difyプラットフォーム用に構築されたAIワークフローアプリケーションのコレクションが含まれています。すべてのアプリケーションは日本語インターフェースで設定されており、ビジネス自動化タスク向けに設計されています。

## 📁 アプリケーション概要

### 01_ビジネスアイデア
- モード: Completion
- 目的: テーマに沿ってビジネスアイデアを生成
- 機能: GPT-4oを使用したシンプルなプロンプト補完
- 入力: テーマ（必須）

### 02_社内規則
- モード: Advanced Chat
- 目的: RAGを利用して社内規則を元に回答するチャットボット
- 機能: 知識検索（top_k: 3）→ GPT-4oによる回答生成
- 特徴: データセット連携による文書検索機能

### 03_広告キャッチコピー
- モード: Advanced Chat  
- 目的: ペルソナのニーズを想定し、広告用のキャッチコピーを作成
- 機能: 2段階LLMワークフロー（ペルソナ想定→キャッチコピー生成）
- 特徴: 中間出力による段階的な処理表示

### 04_プレスリリース
- モード: Advanced Chat
- 目的: LLM同士でフィードバックさせることで、ブラッシュアップされたプレスリリースを作成
- 機能: 3段階処理（初稿作成→フィードバック→改善版作成）
- 特徴: LLM間フィードバックループによる自動改善

### 05_多言語対応チャットボット
- モード: Advanced Chat
- 目的: 言語モードの切り替えが可能なチャットボット
- 機能: 条件分岐による言語設定変更とGPT-4oによる多言語回答
- 特徴: 会話変数による言語状態保持、ボタンUI（日本語/英語/中国語）

### 06_注文書から情報抽出
- モード: Advanced Chat
- 目的: AIを利用して注文書からの情報を構造化
- 機能: ドキュメント抽出→パラメータ抽出→変数代入→テンプレート変換
- 特徴: 構造化データ（注文日、取引先、件名、納期、商品リスト）の自動抽出

### 07_複数LLM比較
- モード: Advanced Chat
- 目的: LLMモデルを切り替えて対話することができる
- 機能: 条件分岐によるモデル選択（GPT-4o / GPT-4o-mini）
- 特徴: 入力時のモデル選択と変数集約による結果統合

### 08_音声文字起こし
- モード: Workflow
- 目的: 音声ファイルの文字起こしと話者分離
- 機能: Whisper-1による音声認識→Gemini 2.5 Proによる整形・話者分離
- 特徴: 音声・動画ファイル対応、不適切な内容の自動削除

### 09_PDF文字起こし（AIなし）
- モード: Workflow  
- 目的: AI処理なしでPDFドキュメントからテキストを抽出
- 機能: ドキュメント抽出ツールによる直接テキスト抽出
- 特徴: ファイルリスト対応（最大10ファイル）、AI未使用の高速処理

## 🛠️ 技術詳細

### プラットフォーム
- フレームワーク: Dify AIプラットフォーム
- バージョン: 0.1.5 - 0.3.0
- 言語: 日本語

### AIモデル
- 主要モデル: GPT-4o、GPT-4o-mini
- プロバイダー: OpenAI
- 設定: カスタマイズ可能な温度設定（通常0.7）

### ファイルサポート
- ドキュメント: PDF、Excel（.xlsx）、Word（.docx）
- 画像: PNG、JPG、GIF（最大10MB）
- 音声: M4Aおよびその他の一般的な形式
- 動画: 最大100MB
- バッチ処理: 最大5ファイル

## 🚀 はじめに

1. 希望するYAML設定ファイルをDifyプラットフォームにインポート
2. OpenAI API設定を構成
3. 必要なナレッジベースドキュメントをアップロード（RAGアプリケーション用）
4. 提供されたサンプルデータでアプリケーションをテスト

## 📄 設定構造

各アプリケーションには以下が含まれます：
- アプリメタデータ: 名前、説明、アイコン
- ワークフロー定義: 会話変数を持つノードベースロジック
- 機能設定: ファイルアップロード、音声処理、UIコンポーネント
- サンプルデータ: テストファイルと入力例

## 🔧 開発

### 新しいアプリケーションの追加
1. 日本語名で番号付きディレクトリを作成
2. YAMLワークフロー設定を含める
3. テスト用サンプルデータファイルを追加
4. 既存の命名規則に従う

### カスタマイズ
- データ永続化のため`conversation_variables`を変更
- 創造性制御のため`temperature`設定を調整
- ドキュメント処理のため`file_upload`機能を設定
- 特定のユースケースに合わせてプロンプトとレスポンスを更新

## 📋 要件

- Difyプラットフォームへのアクセス
- OpenAI APIキー
- 環境での日本語サポート

## 🤝 貢献

このリポジトリにはビジネス向けAIアプリケーションが含まれています。貢献する際は：
- 日本語命名規則に従う
- 日本語入力でテストする
- 新しいアプリケーション用にサンプルデータを含める
- 新しいワークフローパターンを文書化する

## 📞 サポート

特定のアプリケーションや設定に関する質問については、各ディレクトリ内の個別のYAMLファイルとサンプルデータを参照してください。